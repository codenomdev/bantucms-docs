<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Technical Guidelines | Bantucms Documentation</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="Bantucms Developer">
    
    <link rel="preload" href="/assets/css/0.styles.818b1d95.css" as="style"><link rel="preload" href="/assets/js/app.d3080a12.js" as="script"><link rel="preload" href="/assets/js/2.b2a3a940.js" as="script"><link rel="preload" href="/assets/js/7.d7e050d7.js" as="script"><link rel="prefetch" href="/assets/js/10.6c88f33f.js"><link rel="prefetch" href="/assets/js/11.9e1a4094.js"><link rel="prefetch" href="/assets/js/12.55a5069c.js"><link rel="prefetch" href="/assets/js/13.a8fc562b.js"><link rel="prefetch" href="/assets/js/14.09238468.js"><link rel="prefetch" href="/assets/js/15.ec6846e1.js"><link rel="prefetch" href="/assets/js/16.e498e8ab.js"><link rel="prefetch" href="/assets/js/3.bdad3a22.js"><link rel="prefetch" href="/assets/js/4.fb841923.js"><link rel="prefetch" href="/assets/js/5.f04f24d4.js"><link rel="prefetch" href="/assets/js/6.b197ae70.js"><link rel="prefetch" href="/assets/js/8.e4d55808.js"><link rel="prefetch" href="/assets/js/9.531a2ce1.js">
    <link rel="stylesheet" href="/assets/css/0.styles.818b1d95.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Bantucms Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://bantucms.com/en/extensions/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Extensions
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://forums.codenom.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Community Forum
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/codenomdev/bantucms-docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute to Bantucms
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://bantucms.com/en/extensions/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Extensions
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://forums.codenom.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Community Forum
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/codenomdev/bantucms-docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute to Bantucms
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/1.x/coding-standards/" aria-current="page" class="sidebar-link">Coding Standards</a></li><li><a href="/1.x/coding-standards/php.html" class="sidebar-link">PHP coding standards</a></li><li><a href="/1.x/coding-standards/technical-guidelines.html" aria-current="page" class="active sidebar-link">Technical Guidelines</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/1.x/coding-standards/technical-guidelines.html#text-conventions" class="sidebar-link">Text Conventions</a></li><li class="sidebar-sub-header"><a href="/1.x/coding-standards/technical-guidelines.html#basic-programming-principles" class="sidebar-link">Basic Programming Principles</a></li><li class="sidebar-sub-header"><a href="/1.x/coding-standards/technical-guidelines.html#class-design" class="sidebar-link">Class Design</a></li><li class="sidebar-sub-header"><a href="/1.x/coding-standards/technical-guidelines.html#security" class="sidebar-link">Security</a></li><li class="sidebar-sub-header"><a href="/1.x/coding-standards/technical-guidelines.html#cron" class="sidebar-link">Cron</a></li><li class="sidebar-sub-header"><a href="/1.x/coding-standards/technical-guidelines.html#services" class="sidebar-link">Services</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="technical-guidelines"><a href="#technical-guidelines" class="header-anchor">#</a> Technical Guidelines</h1> <p><strong>Core developers use this document as a reference during code reviews; some rules have corresponding code checks in the static tests.</strong></p> <p>These guidelines came from many years of hard work, experience, and discussions. We strongly believe that new technical initiatives should follow these recommendations, and the existing code should be improved to meet them.</p> <h2 id="text-conventions"><a href="#text-conventions" class="header-anchor">#</a> Text Conventions</h2> <p>Use <a href="https://www.rfc-editor.org/rfc/rfc2119" target="_blank" rel="noopener noreferrer">RFC2119<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to interpret keywords like:</p> <ul><li>MUST and MUST NOT</li> <li>REQUIRED</li> <li>SHALL and SHALL NOT</li> <li>SHOULD and SHOULD NOT</li> <li>RECOMMENDED</li> <li>MAY</li> <li>OPTIONAL</li></ul> <h2 id="basic-programming-principles"><a href="#basic-programming-principles" class="header-anchor">#</a> Basic Programming Principles</h2> <ul><li>Function arguments SHOULD NOT be modified.</li> <li>Explicit return types MUST BE declared on functions.</li> <li>Type hints for scalar arguments SHOULD be used.</li> <li>All new PHP files MUST have strict type mode enabled by starting with <code>declare(strict_types=1)</code>;. All updated PHP files SHOULD have strict type mode enabled. PHP interfaces MAY have this declaration.</li></ul> <h2 id="class-design"><a href="#class-design" class="header-anchor">#</a> Class Design</h2> <ul><li>Object decomposition MUST follow the <a href="https://en.wikipedia.org/wiki/SOLID_(object-oriented_design)" target="_blank" rel="noopener noreferrer">SOLID principles<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</li> <li>Object instantiation.</li> <li>An object MUST be ready for use after instantiation. No additional public initialization methods are allowed.</li> <li>Class constructor can have only dependency assignment operations and/or argument validation operations. No other operations are allowed.</li> <li>Constructor SHOULD throw an exception when validation of an argument has failed.</li> <li>Events MUST NOT be triggered in constructors.</li> <li>All dependencies MUST be requested by the most generic type that is required by the client object.</li> <li>Proxies and interceptors MUST NEVER be explicitly requested in constructors.</li> <li>Inheritance SHOULD NOT be used. Composition SHOULD be used for code reuse.</li> <li>All non-public properties and methods SHOULD be private.</li> <li>Method chaining in class design MUST be avoided.</li> <li>Patterns.</li></ul> <h2 id="security"><a href="#security" class="header-anchor">#</a> Security</h2> <ul><li>Use prepared statements for SQL queries.</li> <li>Broken Authentication protection.</li> <li>Where possible, implement multi-factor authentication to prevent automated, credential stuffing, brute force, and stolen credential re-use attacks.</li> <li>Do not ship or deploy with any default credentials, particularly for admin users.</li> <li>Implement weak-password checks, such as testing new or changed passwords against a list of the <a href="https://github.com/danielmiessler/SecLists/tree/master/Passwords" target="_blank" rel="noopener noreferrer">top 10000 worst passwords<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</li> <li>Align password length, complexity, and rotation policies with <a href="https://pages.nist.gov/800-63-3/sp800-63b.html#memsecret" target="_blank" rel="noopener noreferrer">NIST 800-63 B's guidelines in section 5.1.1 for Memorized Secrets<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> or other modern, evidence-based password policies.</li> <li>Ensure registration, credential recovery, and API pathways are hardened against account enumeration attacks by using the same messages for all outcomes.</li> <li>Limit or increasingly delay failed login attempts. Log all failures and alert administrators when credential stuffing, brute force, or other attacks are detected.</li> <li>Use a server-side, secure, built-in session manager that generates a new random session ID with high entropy after login. Session IDs should not be in the URL, be securely stored and invalidated after logout, idle, and absolute timeouts.</li> <li>Cross-Site Scripting (XSS) protection.</li> <li>Sanitize input; escape output.</li> <li>Follow <a href="/1.x/development/security/cross-site-scripting.html">XSS prevention strategies guidelines</a> for escaping output.</li> <li>Incoming data should be casted to the expected type. String data should be validated/sanitized.</li> <li>Incoming string data length should be checked.</li> <li>Special characters, like null byte characters, should be dropped from Incoming string data.</li> <li>A module that introduces Admin Panel functionality should have ACL.</li> <li>Misconfiguration protection.</li> <li>Do not include/require unused libraries/frameworks.</li> <li>A segmented application architecture that provides effective, secure separation between components or tenants, with segmentation, containerization, or cloud security groups (ACLs).</li> <li>Sending security directives to clients, e.g. <a href="https://owasp.org/www-project-secure-headers/" target="_blank" rel="noopener noreferrer">Security Headers<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</li> <li>Sensitive Data Exposure protection.</li> <li>Exceptions/Notices/Warnings should be caught and logged.</li> <li>Error output should not be displayed to the user. Display standard messages to inform the user.</li> <li>Logs should not be excessive, e.g. PDO exception contains MySQL credentials that should not be logged.</li> <li>Cross-Site Request Forgery (CSRF) protection.</li> <li>CSRF tokens mechanism should be utilized.</li> <li>All data manipulation requests should be made with POST requests.</li> <li>Frequently update third-party libraries used in the project/component to eliminate known vulnerabilities.</li> <li>Local File Inclusion (LFI) protection.</li> <li>User-submitted requests containing path and file name SHOULD NOT be trusted.</li> <li>User-submitted path and file values SHOULD be sanitized to remove dot-dot-slash from the request.</li> <li>Remote Code Execution (RCE) protection.</li> <li><code>eval()</code>, <code>passthru()</code>, <code>system()</code>, <code>shell_exec()</code>, <code>serialize()</code>, <code>unserialize()</code>, <code>md5()</code>, <code>srand()</code>, <code>mt_srand()</code> SHOULD NOT be used.</li> <li>User-submitted values SHOULD NOT be passed directly to <code>include*()</code>, <code>require*()</code>, <code>create_function()</code>, <code>fopen()</code>, <code>preg_replace()</code>.</li> <li>Variable functions SHOULD NOT be used if the variable values are submitted by the user.</li> <li>Security capabilities SHOULD be implemented either on the Magento Framework level or in a dedicated module(s) and utilized by the entire application in a centralize manner.</li> <li>Files MUST be secured by a web server configuration (e.g., <code>.htaccess</code> or <code>nginx.conf</code>), except files that are intended to be publicly accessible.</li> <li>Presentation layer classes that access user input directly MUST NOT assume it has been validated.</li></ul> <h2 id="cron"><a href="#cron" class="header-anchor">#</a> Cron</h2> <p>Cron job SHOULD be an <a href="https://tools.ietf.org/html/rfc7231#section-4.2.2" target="_blank" rel="noopener noreferrer">idempotent method<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h2 id="services"><a href="#services" class="header-anchor">#</a> Services</h2> <p>New features with limited customization scenarios SHOULD be implemented as a thin extension that will communicate to a service that contains business logic. This allows developers to release features independently of Magento and makes feature upgrades easier.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/codenomdev/bantucms-docs/edit/master/docs/1.x/coding-standards/technical-guidelines.md" target="_blank" rel="noopener noreferrer">Help us improve this page on Github.</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">1/11/2023, 12:00:02 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/1.x/coding-standards/php.html" class="prev">
        PHP coding standards
      </a></span> <!----></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.d3080a12.js" defer></script><script src="/assets/js/2.b2a3a940.js" defer></script><script src="/assets/js/7.d7e050d7.js" defer></script>
  </body>
</html>
