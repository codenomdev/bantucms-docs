(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{292:function(t,a,e){"use strict";e.r(a);var s=e(10),r=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"create-migrations-module"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create-migrations-module"}},[t._v("#")]),t._v(" Create Migrations Module")]),t._v(" "),a("p",[t._v("You can create migration in two ways,")]),t._v(" "),a("ol",[a("li",[a("RouterLink",{attrs:{to:"/1.x/modules/developments/create-migrations.html#using-module-generator"}},[t._v("By using Module Generator")]),t._v(".")],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/1.x/modules/developments/create-migrations.html#using-laravel-command"}},[t._v("By normal laravel command and then manually copy to the respective folder")]),t._v(".")],1)]),t._v(" "),a("h2",{attrs:{id:"using-module-generator"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#using-module-generator"}},[t._v("#")]),t._v(" Using Module Generator")]),t._v(" "),a("p",[t._v("This command will create a new migration class in "),a("code",[t._v("modules/ACME/HelloWorld/Database/Migrations")]),t._v(" directory.")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[t._v("php artisan module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("make"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("migration CreateUsersTable ACME_HelloWorld\n")])])]),a("h2",{attrs:{id:"using-laravel-command"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#using-laravel-command"}},[t._v("#")]),t._v(" Using Laravel Command")]),t._v(" "),a("p",[t._v("By normal laravel command and then manually copy to the respective folder."),a("br")]),t._v(" "),a("p",[t._v("To create a migration, use the "),a("code",[t._v("make:migration")]),t._v(" artisan command:")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[t._v("php artisan make"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("migration create_users_table\n")])])]),a("p",[t._v("The new migration will be placed in your "),a("code",[t._v("database/migrations")]),t._v(" directory. Each migration file name contains a timestamp which allows Laravel to determine the order of the migrations.")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("--table")]),t._v(" and "),a("code",[t._v("--create")]),t._v(" options may also be used to indicate the name of the table and whether the migration will be creating a new table.")]),t._v(" "),a("p",[t._v("You may also specify a "),a("code",[t._v("--path")]),t._v(" option when creating the migration. The path should be relative to the root directory of your installation:")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[t._v("php artisan make"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("migration create_demo_table "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("modules"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ACME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("HelloWorld"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Database"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Migrations\n")])])]),a("h2",{attrs:{id:"register-migrations-module"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#register-migrations-module"}},[t._v("#")]),t._v(" Register Migrations Module")]),t._v(" "),a("p",[t._v("After you create a migration in your module, Migration must be registered via the module provider:")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-definition function"}},[t._v("boot")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$this")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadMigrationsFrom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("module_path")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$this")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("moduleName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'Database/Migrations'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("Migration registration should be in "),a("code",[t._v("boot")]),t._v(" service provider.")])]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("p",[t._v("We "),a("strong",[t._v("DO NOT")]),t._v(" recommend registering migrations other than within the "),a("code",[t._v("boot")]),t._v(" function")])])])}),[],!1,null,null,null);a.default=r.exports}}]);