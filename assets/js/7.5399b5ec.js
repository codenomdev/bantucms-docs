(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{281:function(e,t,i){"use strict";i.r(t);var s=i(10),r=Object(s.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"technical-guidelines"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#technical-guidelines"}},[e._v("#")]),e._v(" Technical Guidelines")]),e._v(" "),t("p",[t("strong",[e._v("Core developers use this document as a reference during code reviews; some rules have corresponding code checks in the static tests.")])]),e._v(" "),t("p",[e._v("These guidelines came from many years of hard work, experience, and discussions. We strongly believe that new technical initiatives should follow these recommendations, and the existing code should be improved to meet them.")]),e._v(" "),t("h2",{attrs:{id:"text-conventions"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#text-conventions"}},[e._v("#")]),e._v(" Text Conventions")]),e._v(" "),t("p",[e._v("Use "),t("a",{attrs:{href:"https://www.rfc-editor.org/rfc/rfc2119",target:"_blank",rel:"noopener noreferrer"}},[e._v("RFC2119"),t("OutboundLink")],1),e._v(" to interpret keywords like:")]),e._v(" "),t("ul",[t("li",[e._v("MUST and MUST NOT")]),e._v(" "),t("li",[e._v("REQUIRED")]),e._v(" "),t("li",[e._v("SHALL and SHALL NOT")]),e._v(" "),t("li",[e._v("SHOULD and SHOULD NOT")]),e._v(" "),t("li",[e._v("RECOMMENDED")]),e._v(" "),t("li",[e._v("MAY")]),e._v(" "),t("li",[e._v("OPTIONAL")])]),e._v(" "),t("h2",{attrs:{id:"basic-programming-principles"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#basic-programming-principles"}},[e._v("#")]),e._v(" Basic Programming Principles")]),e._v(" "),t("ul",[t("li",[e._v("Function arguments SHOULD NOT be modified.")]),e._v(" "),t("li",[e._v("Explicit return types MUST BE declared on functions.")]),e._v(" "),t("li",[e._v("Type hints for scalar arguments SHOULD be used.")]),e._v(" "),t("li",[e._v("All new PHP files MUST have strict type mode enabled by starting with "),t("code",[e._v("declare(strict_types=1)")]),e._v(";. All updated PHP files SHOULD have strict type mode enabled. PHP interfaces MAY have this declaration.")])]),e._v(" "),t("h2",{attrs:{id:"class-design"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#class-design"}},[e._v("#")]),e._v(" Class Design")]),e._v(" "),t("ul",[t("li",[e._v("Object decomposition MUST follow the "),t("a",{attrs:{href:"https://en.wikipedia.org/wiki/SOLID_(object-oriented_design)",target:"_blank",rel:"noopener noreferrer"}},[e._v("SOLID principles"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("li",[e._v("Object instantiation.")]),e._v(" "),t("li",[e._v("An object MUST be ready for use after instantiation. No additional public initialization methods are allowed.")]),e._v(" "),t("li",[e._v("Class constructor can have only dependency assignment operations and/or argument validation operations. No other operations are allowed.")]),e._v(" "),t("li",[e._v("Constructor SHOULD throw an exception when validation of an argument has failed.")]),e._v(" "),t("li",[e._v("Events MUST NOT be triggered in constructors.")]),e._v(" "),t("li",[e._v("All dependencies MUST be requested by the most generic type that is required by the client object.")]),e._v(" "),t("li",[e._v("Proxies and interceptors MUST NEVER be explicitly requested in constructors.")]),e._v(" "),t("li",[e._v("Inheritance SHOULD NOT be used. Composition SHOULD be used for code reuse.")]),e._v(" "),t("li",[e._v("All non-public properties and methods SHOULD be private.")]),e._v(" "),t("li",[e._v("Method chaining in class design MUST be avoided.")]),e._v(" "),t("li",[e._v("Patterns.")])]),e._v(" "),t("h2",{attrs:{id:"security"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#security"}},[e._v("#")]),e._v(" Security")]),e._v(" "),t("ul",[t("li",[e._v("Use prepared statements for SQL queries.")]),e._v(" "),t("li",[e._v("Broken Authentication protection.")]),e._v(" "),t("li",[e._v("Where possible, implement multi-factor authentication to prevent automated, credential stuffing, brute force, and stolen credential re-use attacks.")]),e._v(" "),t("li",[e._v("Do not ship or deploy with any default credentials, particularly for admin users.")]),e._v(" "),t("li",[e._v("Implement weak-password checks, such as testing new or changed passwords against a list of the "),t("a",{attrs:{href:"https://github.com/danielmiessler/SecLists/tree/master/Passwords",target:"_blank",rel:"noopener noreferrer"}},[e._v("top 10000 worst passwords"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("li",[e._v("Align password length, complexity, and rotation policies with "),t("a",{attrs:{href:"https://pages.nist.gov/800-63-3/sp800-63b.html#memsecret",target:"_blank",rel:"noopener noreferrer"}},[e._v("NIST 800-63 B's guidelines in section 5.1.1 for Memorized Secrets"),t("OutboundLink")],1),e._v(" or other modern, evidence-based password policies.")]),e._v(" "),t("li",[e._v("Ensure registration, credential recovery, and API pathways are hardened against account enumeration attacks by using the same messages for all outcomes.")]),e._v(" "),t("li",[e._v("Limit or increasingly delay failed login attempts. Log all failures and alert administrators when credential stuffing, brute force, or other attacks are detected.")]),e._v(" "),t("li",[e._v("Use a server-side, secure, built-in session manager that generates a new random session ID with high entropy after login. Session IDs should not be in the URL, be securely stored and invalidated after logout, idle, and absolute timeouts.")]),e._v(" "),t("li",[e._v("Cross-Site Scripting (XSS) protection.")]),e._v(" "),t("li",[e._v("Sanitize input; escape output.")]),e._v(" "),t("li",[e._v("Follow "),t("RouterLink",{attrs:{to:"/1.x/development/security/cross-site-scripting.html"}},[e._v("XSS prevention strategies guidelines")]),e._v(" for escaping output.")],1),e._v(" "),t("li",[e._v("Incoming data should be casted to the expected type. String data should be validated/sanitized.")]),e._v(" "),t("li",[e._v("Incoming string data length should be checked.")]),e._v(" "),t("li",[e._v("Special characters, like null byte characters, should be dropped from Incoming string data.")]),e._v(" "),t("li",[e._v("A module that introduces Admin Panel functionality should have ACL.")]),e._v(" "),t("li",[e._v("Misconfiguration protection.")]),e._v(" "),t("li",[e._v("Do not include/require unused libraries/frameworks.")]),e._v(" "),t("li",[e._v("A segmented application architecture that provides effective, secure separation between components or tenants, with segmentation, containerization, or cloud security groups (ACLs).")]),e._v(" "),t("li",[e._v("Sending security directives to clients, e.g. "),t("a",{attrs:{href:"https://owasp.org/www-project-secure-headers/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Security Headers"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("li",[e._v("Sensitive Data Exposure protection.")]),e._v(" "),t("li",[e._v("Exceptions/Notices/Warnings should be caught and logged.")]),e._v(" "),t("li",[e._v("Error output should not be displayed to the user. Display standard messages to inform the user.")]),e._v(" "),t("li",[e._v("Logs should not be excessive, e.g. PDO exception contains MySQL credentials that should not be logged.")]),e._v(" "),t("li",[e._v("Cross-Site Request Forgery (CSRF) protection.")]),e._v(" "),t("li",[e._v("CSRF tokens mechanism should be utilized.")]),e._v(" "),t("li",[e._v("All data manipulation requests should be made with POST requests.")]),e._v(" "),t("li",[e._v("Frequently update third-party libraries used in the project/component to eliminate known vulnerabilities.")]),e._v(" "),t("li",[e._v("Local File Inclusion (LFI) protection.")]),e._v(" "),t("li",[e._v("User-submitted requests containing path and file name SHOULD NOT be trusted.")]),e._v(" "),t("li",[e._v("User-submitted path and file values SHOULD be sanitized to remove dot-dot-slash from the request.")]),e._v(" "),t("li",[e._v("Remote Code Execution (RCE) protection.")]),e._v(" "),t("li",[t("code",[e._v("eval()")]),e._v(", "),t("code",[e._v("passthru()")]),e._v(", "),t("code",[e._v("system()")]),e._v(", "),t("code",[e._v("shell_exec()")]),e._v(", "),t("code",[e._v("serialize()")]),e._v(", "),t("code",[e._v("unserialize()")]),e._v(", "),t("code",[e._v("md5()")]),e._v(", "),t("code",[e._v("srand()")]),e._v(", "),t("code",[e._v("mt_srand()")]),e._v(" SHOULD NOT be used.")]),e._v(" "),t("li",[e._v("User-submitted values SHOULD NOT be passed directly to "),t("code",[e._v("include*()")]),e._v(", "),t("code",[e._v("require*()")]),e._v(", "),t("code",[e._v("create_function()")]),e._v(", "),t("code",[e._v("fopen()")]),e._v(", "),t("code",[e._v("preg_replace()")]),e._v(".")]),e._v(" "),t("li",[e._v("Variable functions SHOULD NOT be used if the variable values are submitted by the user.")]),e._v(" "),t("li",[e._v("Security capabilities SHOULD be implemented either on the Bantucms Open Source level or in a dedicated module(s) and utilized by the entire application in a centralize manner.")]),e._v(" "),t("li",[e._v("Files MUST be secured by a web server configuration (e.g., "),t("code",[e._v(".htaccess")]),e._v(" or "),t("code",[e._v("nginx.conf")]),e._v("), except files that are intended to be publicly accessible.")]),e._v(" "),t("li",[e._v("Presentation layer classes that access user input directly MUST NOT assume it has been validated.")])]),e._v(" "),t("h2",{attrs:{id:"cron"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cron"}},[e._v("#")]),e._v(" Cron")]),e._v(" "),t("p",[e._v("Cron job SHOULD be an "),t("a",{attrs:{href:"https://tools.ietf.org/html/rfc7231#section-4.2.2",target:"_blank",rel:"noopener noreferrer"}},[e._v("idempotent method"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("h2",{attrs:{id:"services"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#services"}},[e._v("#")]),e._v(" Services")]),e._v(" "),t("p",[e._v("New features with limited customization scenarios SHOULD be implemented as a thin extension that will communicate to a service that contains business logic. This allows developers to release features independently of Bantucms and makes feature upgrades easier.")])])}),[],!1,null,null,null);t.default=r.exports}}]);